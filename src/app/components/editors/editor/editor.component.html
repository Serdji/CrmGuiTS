<div class="editor">
  <link href="https://cdn.materialdesignicons.com/2.1.19/css/materialdesignicons.min.css" rel="stylesheet" />
  <form class="editor__form" [formGroup]="formDistribution">
    <mat-grid-list cols="5" rowHeight="500px">
      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-card class="editor__box mat-elevation-z0">
          <mat-card-title>Переменные рассылок</mat-card-title>
          <mat-action-list *ngFor=" let distributionPlaceholder of distributionPlaceholders ">
            <button matRipple mat-list-item (click)="sendVarPlaceholder(distributionPlaceholder.description)"  matTooltip="Пример: {{distributionPlaceholder.example}} ">{{ distributionPlaceholder.description }}</button>
          </mat-action-list>
        </mat-card>
      </mat-grid-tile>

      <mat-grid-tile [colspan]="3" [rowspan]="1">
        <mat-card class="editor__box mat-elevation-z0">
          <mat-card-title>Шаблон рассылок</mat-card-title>
          <mat-form-field class="editor__input">
            <input matInput formControlName="subject" type="text" placeholder="Тема">
            <mat-error>Обязательное поле</mat-error>
          </mat-form-field>
          <ngx-wig formControlName="text" [placeholder]="'Текст'"></ngx-wig>
          <mat-form-field class="editor__input">
            <input matInput formControlName="footer" type="text" placeholder="Подпись">
            <mat-error>Обязательное поле</mat-error>
          </mat-form-field>
        </mat-card>
      </mat-grid-tile>

      <mat-grid-tile [colspan]="1" [rowspan]="1">
        <mat-card class="editor__box mat-elevation-z0">
          <mat-card-title>Параметры рассылок</mat-card-title>
          <mat-form-field class="editor__input">
            <input matInput type="text" placeholder="Количество" disabled [value]="totalCount">
          </mat-form-field>
          <mat-form-field class="editor__input">
            <input matInput type="text" placeholder="Лимит" disabled [value]="emailLimits">
          </mat-form-field>
          <mat-form-field class="editor__input">
            <input matInput formControlName="dataFrom" placeholder="Дата отправки от"
                   [matDatepicker]="dataFrom">
            <mat-datepicker-toggle matSuffix [for]="dataFrom"></mat-datepicker-toggle>
            <mat-datepicker touchUi="true" #dataFrom></mat-datepicker>
          </mat-form-field>
          <mat-form-field class="editor__input">
            <input matInput formControlName="dataTo" placeholder="Дата отправки до"
                   [matDatepicker]="dataTo">
            <mat-datepicker-toggle matSuffix [for]="dataTo"></mat-datepicker-toggle>
            <mat-datepicker touchUi="true" #dataTo></mat-datepicker>
          </mat-form-field>
          <mat-form-field class="editor__input">
            <mat-select formControlName="templateId" placeholder="Шаблон">
              <mat-option></mat-option>
              <mat-option *ngFor="let template of templates" [value]="template.distributionTemplateId"> {{template.title}} </mat-option>
            </mat-select>
          </mat-form-field>
        </mat-card>
      </mat-grid-tile>
    </mat-grid-list>
  </form>
  <button class="editor__button" mat-raised-button color="primary" (click)="saveDistribution()" [disabled]="buttonSave"><mat-icon>save</mat-icon>Сохранить</button>
  <button class="editor__button" mat-raised-button color="primary" (click)="sendDistribution()" [disabled]="buttonSend"><mat-icon>send</mat-icon>Отправить рассылку</button>
</div>






















